(this["webpackJsonpbooksys-client"]=this["webpackJsonpbooksys-client"]||[]).push([[0],{119:function(e,a,t){},122:function(e,a,t){},123:function(e,a,t){},124:function(e,a,t){},125:function(e,a,t){},135:function(e,a){},138:function(e,a,t){},139:function(e,a,t){},140:function(e,a,t){},141:function(e,a,t){},142:function(e,a,t){},143:function(e,a,t){},144:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),o=t(42),i=t.n(o),s=t(22),c=t(26),l=t(43),u=t.n(l),m=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,d="https://29b0050b-7001-4162-994f-acfec6195274.mock.pstmn.io",f="\n\n\u2588\u2588\u2588\u2588\u2588\u2588\u2557      \u2588\u2588\u2588\u2588\u2588\u2588\u2557      \u2588\u2588\u2588\u2588\u2588\u2588\u2557     \u2588\u2588\u2557  \u2588\u2588\u2557    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557    \u2588\u2588\u2557   \u2588\u2588\u2557    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\n\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557    \u2588\u2588\u2554\u2550\u2550\u2550\u2588\u2588\u2557    \u2588\u2588\u2554\u2550\u2550\u2550\u2588\u2588\u2557    \u2588\u2588\u2551 \u2588\u2588\u2554\u255d    \u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d    \u255a\u2588\u2588\u2557 \u2588\u2588\u2554\u255d    \u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d\n\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d    \u2588\u2588\u2551   \u2588\u2588\u2551    \u2588\u2588\u2551   \u2588\u2588\u2551    \u2588\u2588\u2588\u2588\u2588\u2554\u255d     \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557     \u255a\u2588\u2588\u2588\u2588\u2554\u255d     \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\n\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557    \u2588\u2588\u2551   \u2588\u2588\u2551    \u2588\u2588\u2551   \u2588\u2588\u2551    \u2588\u2588\u2554\u2550\u2588\u2588\u2557     \u255a\u2550\u2550\u2550\u2550\u2588\u2588\u2551      \u255a\u2588\u2588\u2554\u255d      \u255a\u2550\u2550\u2550\u2550\u2588\u2588\u2551\n\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d    \u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d    \u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d    \u2588\u2588\u2551  \u2588\u2588\u2557    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2551       \u2588\u2588\u2551       \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2551\n\u255a\u2550\u2550\u2550\u2550\u2550\u255d      \u255a\u2550\u2550\u2550\u2550\u2550\u255d      \u255a\u2550\u2550\u2550\u2550\u2550\u255d     \u255a\u2550\u255d  \u255a\u2550\u255d    \u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d       \u255a\u2550\u255d       \u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n\n",v=t(12),g=function(){return Math.round(+new Date/1e3)},p=function(e){var a=e.onChange,t=e.isValid,n=e.valueForced,r=void 0===n?"NO":n,o=e.isTouched,i=void 0!==o&&o;return function(e){return a({value:"NO"!==r?r:e.target.value,isValid:t,isTouched:i})}},b=function(){var e,a=(e="lang",!!window.location.search.split("".concat(e,"="))[1]&&window.location.search.split("".concat(e,"="))[1]),t=navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage;return a||t},h=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{value:a,isValid:e,isTouched:!1}},E=function(e){return{EMAIL:{test:function(e){return m.test(String(e).toLowerCase())},message:function(){return e("Your email looks incorrect")}}}},_=function(e,a){return{test:function(t){return E(e).EMAIL.test(t)&&a.some((function(e){return t.split("@")[1]===e}))},message:function(a){return E(e).EMAIL.test(a)?e("This email is not acceptable, please make sure to use your corporate email"):E(e).EMAIL.message(a)}}},y=function(e){var a=e.preferredTime,t=e.availableTimesAndSeats,n=e.translate;return a.value?function(e,a){return e.reduce((function(e,t){var n=t.time,r=t.seats;return e[String(n)]=r.map((function(e){return{value:e,text:1===e?a("One seat"):a("{num} seats",{num:e})}})),e}),{})}(t,n)[a.value]:[]},k=function(e){var a=new Date(1e3*e);return"".concat(a.getHours(),":00")},O=function(e){return e.split(":").join("")},w=function(e){return(e||[]).reduce((function(e,a){var t=a.time;if(g()>t)return e;var n=k(t);return e.push({value:t,text:n}),e}),[]).sort((function(e,a){return O(e.text)-O(a.text)}))},N=t(69),T=t(50),S=t.n(T),j=t(151),C=t(84),A=t(62),x=t(15),P=t(72),I=t(61),B=t(73),D=t.n(B),M=function(e){return function(a,t,n){return e((function(e,t){var n,r=performance.now(),o=a(e,t),i=performance.now();n=i-r,Math.round(100*n);return o}),t,n)}},L=t(14),H=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,n=arguments.length>1?arguments[1]:void 0;return e(t)[n.type]?e(t)[n.type](t,n):t}},V=function(e){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){return t({type:e,value:a})}}},F=H((function(e){return{SETTINGS_TOGGLE_DARK_MODE:function(){return Object(L.a)(Object(L.a)({},e),{},{darkMode:!e.darkMode})}}}),{darkMode:"browser"}),Y=H((function(){return{SET_COMPANY_DATA:function(e,a){return Object(L.a)(Object(L.a)({},e),a.value)},SET_COMPANY_STATUS:function(e,a){return Object(L.a)(Object(L.a)({},e),{},{status:a.value})}}}),{event:{name:"",eventStartTime:"",eventEndTime:"",address:"",availableTimes:[]},acceptedDomains:[],shouldRefresh:!0}),U=H((function(){return{SET_BOOKING_STATUS:function(e,a){return Object(L.a)(Object(L.a)({},e),{},{status:a.value})},SET_BOOKING_DATA:function(e,a){return Object(L.a)(Object(L.a)({},e),a.value)}}}),{name:"",corporateEmail:"",seats:0,office:"",time:"",status:"loading",id:""}),z=Object(x.c)({settings:F,company:Y,booking:U,i18nState:l.i18nState}),K={key:"settings",storage:D.a},R=Object(I.a)(K,z);var G=t(5),q=(t(119),t(120),t(8)),J=t(74),W=t.n(J),Z=t(75),$=t.n(Z),Q=t(23),X=t.n(Q),ee=t(29),ae=t(9),te=t(85),ne=(t(122),t(77)),re=t(46),oe=t(76),ie=t.n(oe),se=function(){return ie()({tablet:!0})},ce=function(e){var a=e.displayErrors,t=e.isValid,n=e.validation,o=e.value;return n?a&&!t&&r.a.createElement("aside",{role:"alert",className:"animate__animated animate__fadeIn input__warning"},r.a.createElement("i",{className:"input__warning--icon",role:"presentation","aria-hidden":"true"},r.a.createElement(ne.a,{size:"16px"})),r.a.createElement("p",{className:"input__warning--text"},n.message(o))):null},le=function(e){var a=e.title,t=e.type,o=e.id,i=e.placeholder,s=e.value,c=e.displayErrors,l=e.onChange,u=e.isValid,m=e.validation,d=e.list,f=e.disabled,v=e.showClearButton,g=e.onClear,b=e.translate,h=Object(n.useRef)(),E=m?m.test(s):!!u,_=function(){return l({value:s,isValid:E,isTouched:""!==s})},y=function(){p({onChange:l,isValid:E,valueForced:""})(),g&&g()},k=function(){se()&&h.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},O=function(){se()&&_()},w={text:function(){return r.a.createElement("input",{id:o,onFocus:k,ref:h,disabled:f,onChange:p({onChange:l,isValid:E,isTouched:se()}),onKeyUp:O,onBlur:_,value:s,className:"input__element--text",placeholder:i})},select:function(){return r.a.createElement(r.a.Fragment,null,!f&&""!==s&&v&&r.a.createElement("div",{className:"input__element--clear",role:"button","aria-label":b("Clear field value"),onClick:y},r.a.createElement(re.b,null)),r.a.createElement("select",{id:o,onFocus:k,ref:h,disabled:f,defaultValue:s,onChange:p({onChange:l,isValid:E}),className:"input__element--select"},!!i&&r.a.createElement("option",{value:"",selected:""===s,disabled:!0},i),d&&d.map((function(e){var a=e.value,t=e.text;return r.a.createElement("option",{key:a,value:a},t)}))))}};return r.a.createElement("div",{className:"input"},!!a&&r.a.createElement("label",{className:"input__title",htmlFor:o},a),w[t]&&w[t](),r.a.createElement(ce,{displayErrors:c,isValid:E,validation:m,value:s}))};le.defaultProps={type:"input",isValid:!0,displayErrors:!0,list:[]};var ue=le,me=(t(123),function(e){var a=e.children,t=e.isDisabled,n=e.onClick,o=e.styleType;return r.a.createElement("button",{className:"button button--".concat(o),onClick:function(){return t?null:n()},disabled:t},a)});me.defaultProps={styleType:"primary"};var de=me,fe="loading",ve="expired",ge="form",pe="success",be="".concat(d,"/booking/request"),he=(t(124),function(e){var a=e.image,t=e.imageAlt,n=e.title,o=e.description,i=e.footerMessage,s=e.callToActionText,c=e.callToActionType,l=e.onClickCallToAction;return r.a.createElement("div",{className:"warning animate__animated animate__fadeIn",role:"alert"},r.a.createElement("div",{className:"warning__content"},a&&r.a.createElement("div",{className:"warning__image",role:"presentation"},r.a.createElement("img",{alt:t,src:a})),n&&r.a.createElement("div",{className:"warning__title"},n),o&&r.a.createElement("div",{className:"warning__description"},o),i&&r.a.createElement("div",{className:"warning__footer-message"},i)),s&&r.a.createElement("div",{className:"warning__footer"},r.a.createElement(de,{styleType:c,className:"warning__footer--button",onClick:l},s)))}),Ee=t(47),_e=t.n(Ee),ye=t(78),ke=t.n(ye),Oe=t(48),we=t.n(Oe),Ne=(t(125),["value"]),Te=function(e){var a=e.children;return r.a.createElement("section",{className:"create-page animate__animated animate__fadeIn"},a)},Se=function(e){var a,t=e.translate,o=e.availableTimesAndSeats,i=e.acceptedDomains,s=e.onSubmit,c=e.isSubmitting,l=e.eventEndTime,u=e.showSuccessState,m=e.showInvalidBookingMessage,d=e.resetFormAction,f=function(e){var a=e.eventEndTime,t=e.showSuccessState;return a<g()?ve:t?pe:ge}({showSuccessState:u,eventEndTime:l}),p=Object(n.useState)(h()),b=Object(v.a)(p,2),E=b[0],k=b[1],O=Object(n.useState)(h()),N=Object(v.a)(O,2),T=N[0],S=N[1],j=Object(n.useState)(h()),C=Object(v.a)(j,2),A=C[0],x=C[1],P=Object(n.useState)(h()),I=Object(v.a)(P,2),B=I[0],D=I[1],M={name:E,corporateEmail:T,seats:A,preferredTime:B},H=Object.keys(M).reduce((function(e,a){return e[a]=M[a].value,e}),{}),V=c||!function(e){return Object.values(e).every((function(e){var a=e.value,t=e.isValid;return!!a&&t}))}(M),F=function(){x(h()),D(h()),d()},Y=function(e){var a=e.value,t=Object(te.a)(e,Ne);return S(Object(L.a)({value:a.trim()},t))},U=(a={},Object(ae.a)(a,pe,(function(){return r.a.createElement(he,{image:ke.a,imageAlt:t("Email illustration"),title:t("Check your email"),description:t("You are almost there to reserve your room for this event! Please make sure to finish your reservation as soon as possible to avoid losing your booking."),footerMessage:t("If you can't found the email, check your spam folder."),callToActionType:"secondary",callToActionText:t("New booking"),onClickCallToAction:F})})),Object(ae.a)(a,fe,(function(){return r.a.createElement("div",{role:"presentation"},r.a.createElement(we.a,null))})),Object(ae.a)(a,ve,(function(){return r.a.createElement(he,{image:_e.a,imageAlt:t("Something wrong happened"),title:t("This event has ended")})})),Object(ae.a)(a,ge,(function(){return r.a.createElement("div",{className:"animate__animated animate__fadeIn"},r.a.createElement("div",{className:"create-page__title"},t("Fill in the details below to make your office reservation")),r.a.createElement("form",{"aria-label":t("Office reservation"),onSubmit:function(e){e.preventDefault()}},r.a.createElement("div",{className:"create-page__content"},r.a.createElement(ue,{translate:t,id:"name",type:"text",value:E.value,onChange:k,title:t("Name")}),r.a.createElement(ue,{translate:t,id:"corporateEmail",type:"text",value:T.value,onChange:Y,title:t("Corporate email"),displayErrors:T.isTouched,validation:_(t,i)}),r.a.createElement(ue,{translate:t,id:"preferredTime",title:t("Book your preferences for this event"),type:"select",list:w(o),value:B.value,onChange:D,placeholder:t("Preferred time")}),r.a.createElement(ue,{translate:t,id:"seats",type:"select",disabled:""===B.value,list:y({preferredTime:B,availableTimesAndSeats:o,translate:t}),value:A.value,onChange:x,placeholder:t("Number of seats"),displayErrors:m,validation:{test:function(){return!m},message:function(){return t("Your booking preferences has changed")}}})),r.a.createElement("div",{className:"create-page__footer"},r.a.createElement(de,{onClick:function(){return!V&&s(H)},isDisabled:V},t(c?"Please wait ...":"Continue")))))})),a);return r.a.createElement(Te,null,U[f]())},je=t(40),Ce=t.n(je),Ae=function(){var e=Object(ee.a)(X.a.mark((function e(a){var t,n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.data,n=a.companyHash,e.abrupt("return",fetch(be,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Ce.a.stringify(Object(L.a)(Object(L.a)({},t),{},{companyHash:n}))}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),xe=V("SET_COMPANY_DATA"),Pe=V("SET_COMPANY_STATUS"),Ie="failed",Be="loaded",De="loading",Me="expired",Le="outdated",He=t(150),Ve=function(e,a){var t=e.company,o=e.setCompanyStatus,i=a.t,s=Object(q.f)().companyHash,c=Object(n.useState)(!1),l=Object(v.a)(c,2),u=l[0],m=l[1],d=Object(n.useState)(!1),f=Object(v.a)(d,2),g=f[0],p=f[1],b=Object(n.useState)(!1),h=Object(v.a)(b,2),E=h[0],_=h[1],y=function(){var e=Object(ee.a)(X.a.mark((function e(a){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,Ae({data:a,companyHash:s});case 3:if(t=e.sent,t.status!==He.a.NOT_FOUND){e.next=11;break}return o(Le),_(!0),m(!1),setTimeout((function(){return _(!0)}),3e3),e.abrupt("return");case 11:p(!0);case 12:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(Se,{translate:i,acceptedDomains:t.acceptedDomains,eventStartTime:t.event.eventStartTime,eventEndTime:t.event.eventEndTime,availableTimesAndSeats:t.event.availableTimesAndSeats,onSubmit:y,isSubmitting:u,showInvalidBookingMessage:E,showSuccessState:g,resetFormAction:function(){o(Le),p(!1),m(!1)}})};Ve.contextTypes={t:G.func};var Fe,Ye=Object(s.connect)((function(e){return{company:e.company}}),(function(e){return Object(x.b)({setCompanyStatus:Pe},e)}))(Object(q.g)(Ve)),Ue="loading",ze="notFound",Ke="unavailable",Re="cancelled",Ge="confirmed",qe=(Fe={},Object(ae.a)(Fe,He.a.NOT_FOUND,ze),Object(ae.a)(Fe,He.a.LOCKED,Re),Object(ae.a)(Fe,He.a.OK,Ge),Object(ae.a)(Fe,He.a.PRECONDITION_FAILED,Ke),Fe),Je=function(e){return"".concat(d,"/booking/confirm/").concat(e)},We="".concat(d,"/booking/cancel"),Ze=function(){var e=Object(ee.a)(X.a.mark((function e(a){var t,n,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.bookingId,n=a.seat,r=a.time,e.abrupt("return",fetch(Je(t),{method:"PATCH",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Ce.a.stringify((o={bookingId:t,seat:n,time:r},Object.fromEntries(Object.entries(o).filter((function(e){var a=Object(v.a)(e,2),t=(a[0],a[1]);return Boolean(t)})))))}));case 2:case"end":return e.stop()}var o}),e)})));return function(a){return e.apply(this,arguments)}}(),$e=function(){var e=Object(ee.a)(X.a.mark((function e(a){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.bookingId,e.abrupt("return",fetch(We,{method:"PATCH",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Ce.a.stringify({bookingId:t})}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Qe=V("SET_BOOKING_STATUS"),Xe=V("SET_BOOKING_DATA"),ea=(t(138),function(e){var a=e.status,t=function(e){var a;return a={},Object(ae.a)(a,Ge,e("Congratulations! Your reservation has been successfully confirmed. Here is a brief summary of your booking details:")),Object(ae.a)(a,Re,e("You cancelled your booking. Here is a brief summary of your cancelled booking details:")),a}(e.translate)[a]||!1;return t?r.a.createElement("div",{className:"booking-status__message"},t):null}),aa=function(e){var a=e.status,t=e.translate;return r.a.createElement("div",{role:"status",className:"booking-status__status--".concat(a)},function(e){var a;return a={},Object(ae.a)(a,Ge,e("Confirmed")),Object(ae.a)(a,Re,e("Cancelled")),a}(t)[a])},ta=function(e){var a=e.time,t=e.translate;return r.a.createElement("div",{className:"booking-status__row"},r.a.createElement("div",{className:"booking-status__row--title"},t("Time")),r.a.createElement("div",{className:"booking-status__row--value"},k(a)))},na=function(e){var a=e.office,t=e.translate;return r.a.createElement("div",{className:"booking-status__row"},r.a.createElement("div",{className:"booking-status__row--title"},t("Office")),r.a.createElement("div",{className:"booking-status__row--value"},a))},ra=function(e){var a=e.seats,t=e.translate;return r.a.createElement("div",{className:"booking-status__row"},r.a.createElement("div",{className:"booking-status__row--title"},t("Seats")),r.a.createElement("div",{className:"booking-status__row--value"},a))},oa=function(e){var a=e.onCancel,t=e.translate,n=e.processing;return r.a.createElement("div",{className:"booking-status__row"},r.a.createElement(de,{onClick:a,styleType:"secondary",isDisabled:n},t(n?"Please wait ...":"Cancel")))},ia=function(e){var a=e.translate,t=e.data,n=e.onNewBooking,o=e.onCancel,i=e.processing,s=t.status===Re;return r.a.createElement("section",{className:"booking-status animate__animated animate__fadeIn"},r.a.createElement("div",{className:"booking-status__title",role:"heading","aria-level":"2"},a("Hey {name},",{name:t.name})),r.a.createElement(ea,{status:t.status,translate:a}),r.a.createElement("div",{className:"booking-status__status"},r.a.createElement(aa,{status:t.status,translate:a}),r.a.createElement("div",{className:"booking-status__status--code"},a("Reservation code: {code}",{code:t.id}))),!s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ta,{time:t.time,translate:a}),r.a.createElement(ra,{seats:t.seats,translate:a}),r.a.createElement(na,{office:t.office,translate:a})),r.a.createElement("div",{className:"booking-status__row"},r.a.createElement(de,{isDisabled:i,onClick:n,styleType:"secondary"},a("New booking"))),!s&&r.a.createElement(oa,{processing:i,translate:a,onCancel:o}))};ia.defaultProps={translate:function(e){return e}};var sa=ia,ca=(t(139),function(e){var a=e.time,t=e.seat,n=e.onBook,o=e.translate,i=k(a);return r.a.createElement("div",{className:"office-card animate__animated animate__fadeIn",role:"listitem"},r.a.createElement("div",{className:"office-card__content"},r.a.createElement("div",{className:"office-card__time","aria-label":o("Time: {time}",{time:i})},i),r.a.createElement("div",{className:"office-card__seats"},r.a.createElement("div",{className:"office-card__seats--icon",role:"presentation","aria-hidden":"true"},r.a.createElement(re.a,null)),r.a.createElement("div",{className:"office-card__seats--text","aria-label":o("Seats available: {seat}",{seat:t})},t))),r.a.createElement("div",{className:"office-card__footer"},r.a.createElement(de,{onClick:function(){return n({seat:t,time:a})}},o("Book"))))});ca.defaultProps={translate:function(e){return e}};var la=ca,ua=t(83),ma=(t(140),function(e){var a=e.current,t=e.total,n=e.onPageChange,o=e.label,i=e.translate;return r.a.createElement("nav",{role:"slider","aria-label":o,"aria-valuenow":Math.floor(a),"aria-valuemin":"1","aria-valuemax":Math.ceil(t),"aria-valuetext":i("Page {num}",{num:a})},r.a.createElement(ua.a,{current:Math.floor(a),total:Math.ceil(t),onPageChange:n}))});ma.defaultProps={translate:function(e){return e}};var da=ma,fa=(t(141),function(e){var a=e.translate,t=e.event,o=e.onBook,i=t.availableTimesAndSeats,s=Object(n.useState)(h()),c=Object(v.a)(s,2),l=c[0],u=c[1],m=Object(n.useState)(h()),d=Object(v.a)(m,2),f=d[0],g=d[1],p=Object(n.useState)(1),b=Object(v.a)(p,2),E=b[0],_=b[1],N=function(){return _(1)},T=function(e){return e.reduce((function(e,a){var t=a.time;return a.seats.forEach((function(a,n){e.push({id:"".concat(t,"-").concat(a,"-").concat(n),seat:a,time:t})})),e}),[]).sort((function(e,a){return O(k(e.time))-O(k(a.time))}))}(function(e){var a=e.seats,t=e.preferredTime;return e.availableTimesAndSeats.reduce((function(e,n){if(""!==String(t.value)&&String(t.value)!==String(n.time))return e;var r=n.seats.filter((function(e){return""===String(t.value)||(""===String(a.value)||String(a.value)===String(e))}));return e.push({time:n.time,seats:r}),e}),[])}({seats:l,preferredTime:f,availableTimesAndSeats:i})),S=T.length,j=S/6,C=S>6;return console.log({preferredTime:f}),r.a.createElement("section",{className:"booking-change animate__animated animate__fadeIn"},r.a.createElement("div",{className:"booking-change__title",role:"alert"},a("Unfortunately the time that you selected isn't available anymore. Please select a new option below")),r.a.createElement("div",{className:"booking-change__options",role:"search","aria-label":a("Time/Seats filters")},r.a.createElement("div",{className:"booking-change__column booking-change__column--left"},r.a.createElement(ue,{type:"select",translate:a,id:"booking-change-time",value:f.value,onChange:function(e){g(e),u(h()),N()},showClearButton:!0,onClear:function(){u(h()),N()},list:w(i),placeholder:a("Select a time")})),r.a.createElement("div",{className:"booking-change__column booking-change__column--right"},r.a.createElement(ue,{type:"select",translate:a,disabled:""===f.value,value:l.value,onChange:function(e){u(e),N()},showClearButton:!0,id:"booking-change-seats",list:y({preferredTime:f,availableTimesAndSeats:i,translate:a}),placeholder:a("Number of seats")}))),r.a.createElement("div",{className:"booking-change__subtitle",role:"heading","aria-level":"2"},a("Available offices")),r.a.createElement("div",{className:"booking-change__content",role:"list"},function(e){var a=e.items,t=e.itemsPerPage,n=e.page;return a.slice((n-1)*t,n*t)}({items:T,page:E,itemsPerPage:6}).map((function(e){var t=e.id,n=e.seat,i=e.time;return r.a.createElement(la,{key:t,seat:n,time:i,translate:a,onBook:o})}))),C&&r.a.createElement("div",{className:"booking-change__paginator"},r.a.createElement(da,{current:E,translate:a,label:a("Navigate into available offices list"),total:j,onPageChange:_})))});fa.defaultProps={translate:function(e){return e}};var va=fa,ga=function(e){var a=e.translate;return r.a.createElement("div",{role:"status","aria-live":"polite"},r.a.createElement("img",{alt:a("Please wait ..."),src:we.a}))},pa=function(e,a){var t,o=e.booking,i=e.setBookingStatus,s=e.setBookingData,c=e.history,l=e.company,u=a.t,m=Object(q.f)(),d=m.bookingId,f=m.companyHash,g=Object(n.useState)(!1),p=Object(v.a)(g,2),b=p[0],h=p[1],E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.seat,t=void 0===a?null:a,n=e.time,r=void 0===n?null:n;Ze({seat:t,time:r,bookingId:d}).then((function(e){return i(qe[e.status]),h(!1),e.json()})).then((function(e){e&&e.booking&&s(e.booking)}))};Object(n.useEffect)((function(){E()}),[d]);var _=r.a.createElement(sa,{translate:u,data:o,processing:b,onCancel:function(){window.confirm(u("Are you sure that you want to cancel your booking"))&&(h(!0),$e({bookingId:d}).then((function(){E()})))},onNewBooking:function(){return c.push("/".concat(f))}}),y=(t={},Object(ae.a)(t,Re,(function(){return _})),Object(ae.a)(t,Ge,(function(){return _})),Object(ae.a)(t,Ke,(function(){return r.a.createElement(va,{translate:u,event:l.event,onBook:E})})),Object(ae.a)(t,Ue,(function(){return r.a.createElement(ga,{translate:u})})),Object(ae.a)(t,ze,(function(){return r.a.createElement(he,{image:_e.a,imageAlt:u("Something wrong happened"),title:u("Unable to find your booking")})})),t);return y[o.status]?y[o.status]():null};pa.contextTypes={t:G.func};var ba=Object(s.connect)((function(e){return{booking:e.booking,company:e.company}}),(function(e){return Object(x.b)({setBookingStatus:Qe,setBookingData:Xe},e)}))(Object(q.g)(pa)),ha=t(80),Ea=t.n(ha),_a=function(e,a){var t=a.t;return r.a.createElement("div",{className:"not-found"},r.a.createElement("img",{src:Ea.a,alt:t("Image with a alien spaceship abducting somebody")}),r.a.createElement("br",null),r.a.createElement("br",null),t("Page not found",{},"404 main text")," ",r.a.createElement("br",null))};_a.defaultProps={translate:function(e){return e}},_a.contextTypes={t:G.func};var ya=_a,ka=function(){return r.a.createElement(q.c,null,r.a.createElement(q.a,{path:"/:companyHash",exact:!0},r.a.createElement(Ye,null)),r.a.createElement(q.a,{path:"/:companyHash/booking/:bookingId"},r.a.createElement(ba,null)),r.a.createElement(q.a,{path:"*",exact:!0},r.a.createElement(ya,null)))},Oa=t(81),wa=document.body,Na=function(){wa.classList.remove("dark-mode"),wa.classList.remove("light-mode"),wa.classList.add("".concat(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light","-mode"))},Ta=function(e){Object(s.useSelector)((function(e){return e.settings})).darkMode;return Na(),wa.classList.add(se()?"mobile-tablet":"desktop"),function(){var e=function(e){return e.toLowerCase().split(" ").join("-")},a=Object(Oa.a)(),t=a.name,n=a.version,r=a.os;wa.classList.add(e(t)),wa.classList.add(e("".concat(t,"-").concat(n))),wa.classList.add(e(r))}(),e.children},Sa=function(e){return fetch(function(e){return"".concat(d,"/company/").concat(e)}(e))},ja=(t(142),t(82)),Ca=t.n(ja),Aa=function(e){var a,t,n=e.translate,o=e.event,i=e.children,s=(a=o.eventStartTime,new Date(1e3*a).toLocaleDateString(b(),{weekday:"long",day:"numeric",month:"long"})),c=function(e){return new Date(1e3*e).toLocaleDateString(b(),{weekday:"short",day:"numeric",month:"short"})}(o.eventStartTime);return r.a.createElement("div",{className:"companyCard"},r.a.createElement("div",{className:"companyCard__header",style:{backgroundImage:"url(".concat(Ca.a,")")}},r.a.createElement("div",{className:"companyCard__header--row"},r.a.createElement("div",{className:"companyCard__header--title",title:n("Event name")},o.name),r.a.createElement("div",{className:"companyCard__header--date","aria-label":s},c)),r.a.createElement("div",{className:"companyCard__header--row"},r.a.createElement("address",{className:"companyCard__header--address"},o.address),r.a.createElement("div",{className:"companyCard__header--directions"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:(t=o.address,"".concat("https://www.google.com/maps/search/").concat(t))},n("Get directions"))))),r.a.createElement("div",{className:"companyCard__content"},i))};Aa.defaultProps={children:G.oneOfType([G.arrayOf(G.node),G.node]).isRequired,translate:function(e){return e},event:G.shape({name:G.string,address:G.string,eventStartTime:G.number})};var xa=Aa,Pa=function(e){var a=e.state,t=e.children,n=e.translate,o=e.data,i=function(){return r.a.createElement(xa,{translate:n,event:o.event},t)};return{loading:function(){return r.a.createElement(ga,{translate:n})},loaded:i,failed:function(){return r.a.createElement(ya,{translate:n})},expired:i}[a]()};Pa.defaultProps={translate:function(e){return e}};var Ia=Pa,Ba=function(e,a){var t=e.children,o=e.company,i=e.setCompanyData,s=a.t,c=Object(n.useState)(De),l=Object(v.a)(c,2),u=l[0],m=l[1],d=Object(q.f)().companyHash,f=function(){var e;o.status!==Le&&m(De);var a=(e={},Object(ae.a)(e,He.a.NOT_FOUND,Ie),Object(ae.a)(e,He.a.LOCKED,Me),Object(ae.a)(e,He.a.OK,Be),e),t=a[u];Sa(d).then((function(e){var n=a[e.status]||Ie;return n!==t&&m(n),e.json()})).then(i)};return r.a.useEffect((function(){f()}),[d]),o.status===Le&&f(),r.a.createElement(Ia,{state:u,translate:s,data:o},t)};Ba.contextTypes={t:G.func,history:G.shape({push:G.func.isRequired})};var Da=Object(s.connect)((function(e){return{company:e.company}}),(function(e){return Object(x.b)({setCompanyData:xe},e)}))(Object(q.g)(Ba)),Ma=function(e,a){var t=a.t;return r.a.createElement(Ta,null,r.a.createElement("div",{className:"app",style:{backgroundImage:"url(".concat(W.a,")")}},r.a.createElement("div",{className:"app__logo"},r.a.createElement("a",{href:"https://github.com/rxluz/booksys"},r.a.createElement("img",{src:$.a,href:!0,alt:t("Booksys logo")}))),r.a.createElement(q.c,null,r.a.createElement(q.a,{path:"/:companyHash"},r.a.createElement(Da,null,r.a.createElement(ka,null))),r.a.createElement(q.a,null,r.a.createElement(ya,{translate:t})))))};Ma.defaultProps={translate:function(e){return e}},Ma.contextTypes={t:G.func};var La=Ma;t(143),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ha=function(e){var a=[!1,P.a].filter(Boolean),t=[x.a.apply(void 0,Object(A.a)(a)),M,!1].filter(Boolean),n=x.d.apply(void 0,Object(A.a)(t)),r=Object(x.e)(R,e,n);return{store:r,persistor:Object(I.b)(r)}}(),Va=Ha.store,Fa=Ha.persistor;j.a({dsn:"https://254dd7d42eb4454582f8f5ee626210fb@o1034630.ingest.sentry.io/6001277",integrations:[new C.a.BrowserTracing],tracesSampleRate:1}),i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.Provider,{store:Va},r.a.createElement(N.a,{loading:null,persistor:Fa},r.a.createElement(u.a,{translations:{en:{Hello:"world"},options:{plural_rule:"n > 1",plural_number:"2"},pt:{"One seat":"Um assento","Event name":"Nome do evento","Get directions":"Ver dire\xe7\xf5es","Clear field value":"Limpar campo","Please wait ...":"Por favor aguarde \u2026","Time: {time}":"Hor\xe1rio: {time}","{num} seats":"{num} assentos","Seats available: {seat}":"Assentos dispon\xedveis: {seat}",Book:"Agendar","Page {num}":"P\xe1gina {num}","Your email looks incorrect":"Seu email est\xe1 incorreto","This email is not acceptable, please make sure to use your corporate email":"Esse email n\u0101o \xe9 aceit\xe1vel, por favor use o seu email corporativo","Congratulations! Your reservation has been successfully confirmed. Here is a brief summary of your booking details:":"Parab\xe9ns! Sua reserva foi efetuada com sucesso. Veja abaixo um resumo do seu agendamento:","You cancelled your booking. Here is a brief summary of your cancelled booking details:":"Voc\xea cancelou seu agendamento. Abaixo esta um resumo do agendamento cancelado:",Confirmed:"Confirmado",Cancelled:"Cancelado","Are you sure that you want to cancel your booking":"Voc\xea tem certeza que deseja cancelar esse agendamento?","Something wrong happened":"Algo inesperado aconteceu","Unable to find your booking":"N\u0101o conseguimos encontrar seu agendamento","Unfortunately the time that you selected isn't available anymore. Please select a new option below":"Infelizmente esse hor\xe1rio n\xe3o esta mais dispon\xedvel. Por favor selecione uma nova op\xe7\xe3o abaixo","Time/Seats filters":"Filtros de hor\xe1rio / assentos","Select a time":"Selecione um hor\xe1rio ","Number of seats":"Numero de assentos","Available offices":"Salas dispon\xedveis","Navigate into available offices list":"Navegue na lista de salas dispon\xedveis ","Email illustration":"Ilustra\xe7\xe3o de email","Check your email":"Verifique o seu email","You are almost there to reserve your room for this event! Please make sure to finish your reservation as soon as possible to avoid losing your booking.":"Voc\xea esta quase la para reservar a sua sala nesse evento! Por favor se assegure de finalizar a sua reserva o quanto antes para evitar perder o seu agendamento.","If you can't found the email, check your spam folder.":"Se voc\xea n\u0101o encontrar o email, por favor verifique a sua caixa de spam.","New booking":"Novo agendamento","This event has ended":"Esse evento est\xe1 encerrado","Fill in the details below to make your office reservation":"Preencha seus detalhes abaixo para fazer a sua reserva de sala","Office reservation":"Reserva de sala",Name:"Nome","Corporate email":"E-mail corporativo","Book your preferences for this event":"Defina as suas preferencias para esse evento","Preferred time":"Hor\xe1rio preferido","Your booking preferences has changed":"Suas preferencias de agendamento foram alteradas",Continue:"Continuar",Time:"Hor\xe1rio",Office:"Sala",Seats:"Assentos",Cancel:"Cancelar","Hey {name},":"Oi {name},","Reservation code: {code}":"C\xf3digo de reserva: {code}","Booksys logo":"Logo da Booksys","Image with a alien spaceship abducting somebody":"Imagem com uma nave espacial abduzindo algu\xe9m","Page not found":"Pagina n\u0101o encontrada"}},initialLang:b(),fallbackLang:"en"},r.a.createElement(c.a,null,r.a.createElement(La,null)))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),setTimeout((function(){S.a.enable(),console.log(S.a.zalgo(f)),console.log(S.a.random(f))}),2e3)},47:function(e,a,t){e.exports=t.p+"static/media/something-wrong.19763570.svg"},48:function(e,a,t){e.exports=t.p+"static/media/loading.26ad38f4.svg"},74:function(e,a,t){e.exports=t.p+"static/media/background.9adfa93a.png"},75:function(e,a,t){e.exports=t.p+"static/media/logo.e29d4d3a.svg"},78:function(e,a,t){e.exports=t.p+"static/media/email.ffaebffe.svg"},80:function(e,a,t){e.exports=t.p+"static/media/NotFound.df523510.svg"},82:function(e,a,t){e.exports=t.p+"static/media/companyCardBackground.b2695cc6.png"},89:function(e,a,t){e.exports=t(144)}},[[89,1,2]]]);
//# sourceMappingURL=main.6f6a22ab.chunk.js.map