(this["webpackJsonpbooksys-client"]=this["webpackJsonpbooksys-client"]||[]).push([[0],{108:function(e,a){},111:function(e,a,t){},112:function(e,a,t){},113:function(e,a,t){},114:function(e,a,t){},115:function(e,a,t){},116:function(e,a,t){},117:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),o=t(22),i=t.n(o),s=t(13),c=t(15),l=t(23),u=t.n(l),m=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,d="https://29b0050b-7001-4162-994f-acfec6195274.mock.pstmn.io",f="\n\n\u2588\u2588\u2588\u2588\u2588\u2588\u2557      \u2588\u2588\u2588\u2588\u2588\u2588\u2557      \u2588\u2588\u2588\u2588\u2588\u2588\u2557     \u2588\u2588\u2557  \u2588\u2588\u2557    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557    \u2588\u2588\u2557   \u2588\u2588\u2557    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\n\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557    \u2588\u2588\u2554\u2550\u2550\u2550\u2588\u2588\u2557    \u2588\u2588\u2554\u2550\u2550\u2550\u2588\u2588\u2557    \u2588\u2588\u2551 \u2588\u2588\u2554\u255d    \u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d    \u255a\u2588\u2588\u2557 \u2588\u2588\u2554\u255d    \u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d\n\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d    \u2588\u2588\u2551   \u2588\u2588\u2551    \u2588\u2588\u2551   \u2588\u2588\u2551    \u2588\u2588\u2588\u2588\u2588\u2554\u255d     \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557     \u255a\u2588\u2588\u2588\u2588\u2554\u255d     \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\n\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557    \u2588\u2588\u2551   \u2588\u2588\u2551    \u2588\u2588\u2551   \u2588\u2588\u2551    \u2588\u2588\u2554\u2550\u2588\u2588\u2557     \u255a\u2550\u2550\u2550\u2550\u2588\u2588\u2551      \u255a\u2588\u2588\u2554\u255d      \u255a\u2550\u2550\u2550\u2550\u2588\u2588\u2551\n\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d    \u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d    \u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d    \u2588\u2588\u2551  \u2588\u2588\u2557    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2551       \u2588\u2588\u2551       \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2551\n\u255a\u2550\u2550\u2550\u2550\u2550\u255d      \u255a\u2550\u2550\u2550\u2550\u2550\u255d      \u255a\u2550\u2550\u2550\u2550\u2550\u255d     \u255a\u2550\u255d  \u255a\u2550\u255d    \u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d       \u255a\u2550\u255d       \u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n\n",v=t(6),g=t(25),p=t.n(g),b=(t(75),t(45)),h=t.n(b),E=function(e){var a=e.onChange,t=e.isValid,n=e.valueForced,r=void 0===n?"NO":n,o=e.isTouched,i=void 0!==o&&o;return function(e){return a({value:"NO"!==r?r:e.target.value,isValid:t,isTouched:i})}},_=function(){var e,a=(e="lang",!!window.location.search.split("".concat(e,"="))[1]&&window.location.search.split("".concat(e,"="))[1]),t=navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage;return a||t},y=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{value:a,isValid:e,isTouched:!1}},k=function(e){return{EMAIL:{test:function(e){return m.test(String(e).toLowerCase())},message:function(){return e("Your email looks incorrect")}}}},O=function(e,a){return{test:function(t){return k(e).EMAIL.test(t)&&a.some((function(e){return t.split("@")[1]===e}))},message:function(a){return k(e).EMAIL.test(a)?e("This email is not acceptable, please make sure to use your corporate email"):k(e).EMAIL.message(a)}}},N=function(e){var a=e.preferredTime,t=e.availableTimesAndSeats,n=e.translate;return a.value?function(e,a){return e.reduce((function(e,t){var n=t.time,r=t.seats;return e[n]=r.map((function(e){return{value:e,text:1===e?a("One seat"):a("{num} seats",{num:e})}})),e}),{})}(t,n)[a.value]:[]};p.a.locale(_());var w=p.a,T=function(e){return(e||[]).reduce((function(e,a){var t=a.time;if(w().unix()>t)return e;var n=w.unix(t).format("h A");return e.push({value:t,text:n}),e}),[])},j=t(46),S=t(30),C=t.n(S),A=t(38),x=t(8),P=t(47),I=t(37),B=t(48),D=t.n(B),M=function(e){return function(a,t,n){return e((function(e,t){var n,r=performance.now(),o=a(e,t),i=performance.now();n=i-r,Math.round(100*n);return o}),t,n)}},L=t(7),H=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,n=arguments.length>1?arguments[1]:void 0;return e(t)[n.type]?e(t)[n.type](t,n):t}},V=function(e){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){return t({type:e,value:a})}}},F=H((function(e){return{SETTINGS_TOGGLE_DARK_MODE:function(){return Object(L.a)(Object(L.a)({},e),{},{darkMode:!e.darkMode})}}}),{darkMode:"browser"}),Y=H((function(){return{SET_COMPANY_DATA:function(e,a){return Object(L.a)(Object(L.a)({},e),a.value)},SET_COMPANY_STATUS:function(e,a){return Object(L.a)(Object(L.a)({},e),{},{status:a.value})}}}),{event:{name:"",eventStartTime:"",eventEndTime:"",address:"",availableTimes:[]},acceptedDomains:[],shouldRefresh:!0}),U=H((function(){return{SET_BOOKING_STATUS:function(e,a){return Object(L.a)(Object(L.a)({},e),{},{status:a.value})},SET_BOOKING_DATA:function(e,a){return Object(L.a)(Object(L.a)({},e),a.value)}}}),{name:"",corporateEmail:"",seats:0,office:"",time:"",status:"loading",id:""}),z=Object(x.c)({settings:F,company:Y,booking:U,i18nState:l.i18nState}),K={key:"settings",storage:D.a},G=Object(I.a)(K,z);var R=t(2),q=(t(92),t(93),t(4)),J=t(49),W=t.n(J),Z=t(50),$=t.n(Z),Q=t(14),X=t.n(Q),ee=t(16),ae=t(5),te=t(59),ne=(t(95),t(52)),re=t(26),oe=t(51),ie=t.n(oe),se=function(){return ie()({tablet:!0})},ce=function(e){var a=e.displayErrors,t=e.isValid,n=e.validation,o=e.value;return n?a&&!t&&r.a.createElement("aside",{role:"alert",className:"animate__animated animate__fadeIn input__warning"},r.a.createElement("i",{className:"input__warning--icon",role:"presentation","aria-hidden":"true"},r.a.createElement(ne.a,{size:"16px"})),r.a.createElement("p",{className:"input__warning--text"},n.message(o))):null},le=function(e){var a=e.title,t=e.type,o=e.id,i=e.placeholder,s=e.value,c=e.displayErrors,l=e.onChange,u=e.isValid,m=e.validation,d=e.list,f=e.disabled,v=e.showClearButton,g=e.onClear,p=e.translate,b=Object(n.useRef)(),h=m?m.test(s):!!u,_=function(){return l({value:s,isValid:h,isTouched:""!==s})},y=function(){E({onChange:l,isValid:h,valueForced:""})(),g&&g()},k=function(){se()&&b.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},O=function(){se()&&_()},N={text:function(){return r.a.createElement("input",{id:o,onFocus:k,ref:b,disabled:f,onChange:E({onChange:l,isValid:h,isTouched:se()}),onKeyUp:O,onBlur:_,value:s,className:"input__element--text",placeholder:i})},select:function(){return r.a.createElement(r.a.Fragment,null,!f&&""!==s&&v&&r.a.createElement("div",{className:"input__element--clear",role:"button","aria-label":p("Clear field value"),onClick:y},r.a.createElement(re.b,null)),r.a.createElement("select",{id:o,onFocus:k,ref:b,disabled:f,defaultValue:s,onChange:E({onChange:l,isValid:h}),className:"input__element--select"},!!i&&r.a.createElement("option",{value:"",selected:""===s,disabled:!0},i),d&&d.map((function(e){var a=e.value,t=e.text;return r.a.createElement("option",{key:a,value:a},t)}))))}};return r.a.createElement("div",{className:"input"},!!a&&r.a.createElement("label",{className:"input__title",htmlFor:o},a),N[t]&&N[t](),r.a.createElement(ce,{displayErrors:c,isValid:h,validation:m,value:s}))};le.defaultProps={type:"input",isValid:!0,displayErrors:!0,list:[]};var ue=le,me=(t(96),function(e){var a=e.children,t=e.isDisabled,n=e.onClick,o=e.styleType;return r.a.createElement("button",{className:"button button--".concat(o),onClick:function(){return t?null:n()},disabled:t},a)});me.defaultProps={styleType:"primary"};var de=me,fe="loading",ve="expired",ge="form",pe="success",be="".concat(d,"/booking/request"),he=(t(97),function(e){var a=e.image,t=e.imageAlt,n=e.title,o=e.description,i=e.footerMessage,s=e.callToActionText,c=e.callToActionType,l=e.onClickCallToAction;return r.a.createElement("div",{className:"warning animate__animated animate__fadeIn",role:"alert"},r.a.createElement("div",{className:"warning__content"},a&&r.a.createElement("div",{className:"warning__image",role:"presentation"},r.a.createElement("img",{alt:t,src:a})),n&&r.a.createElement("div",{className:"warning__title"},n),o&&r.a.createElement("div",{className:"warning__description"},o),i&&r.a.createElement("div",{className:"warning__footer-message"},i)),s&&r.a.createElement("div",{className:"warning__footer"},r.a.createElement(de,{styleType:c,className:"warning__footer--button",onClick:l},s)))}),Ee=t(27),_e=t.n(Ee),ye=t(53),ke=t.n(ye),Oe=t(28),Ne=t.n(Oe),we=(t(98),["value"]),Te=function(e){var a=e.children;return r.a.createElement("section",{className:"create-page animate__animated animate__fadeIn"},a)},je=function(e){var a,t=e.translate,o=e.availableTimesAndSeats,i=e.acceptedDomains,s=e.onSubmit,c=e.isSubmitting,l=e.eventEndTime,u=e.showSuccessState,m=e.showInvalidBookingMessage,d=e.resetFormAction,f=function(e){var a=e.eventEndTime,t=e.showSuccessState;return a<w().unix()?ve:t?pe:ge}({showSuccessState:u,eventEndTime:l}),g=Object(n.useState)(y()),p=Object(v.a)(g,2),b=p[0],h=p[1],E=Object(n.useState)(y()),_=Object(v.a)(E,2),k=_[0],j=_[1],S=Object(n.useState)(y()),C=Object(v.a)(S,2),A=C[0],x=C[1],P=Object(n.useState)(y()),I=Object(v.a)(P,2),B=I[0],D=I[1],M={name:b,corporateEmail:k,seats:A,preferredTime:B},H=Object.keys(M).reduce((function(e,a){return e[a]=M[a].value,e}),{}),V=c||!function(e){return Object.values(e).every((function(e){var a=e.value,t=e.isValid;return!!a&&t}))}(M),F=function(){x(y()),D(y()),d()},Y=function(e){var a=e.value,t=Object(te.a)(e,we);return j(Object(L.a)({value:a.trim()},t))},U=(a={},Object(ae.a)(a,pe,(function(){return r.a.createElement(he,{image:ke.a,imageAlt:t("Email illustration"),title:t("Check your email"),description:t("You are almost there to reserve your room for this event! Please make sure to finish your reservation as soon as possible to avoid losing your booking."),footerMessage:t("If you can't found the email, check your spam folder."),callToActionType:"secondary",callToActionText:t("New booking"),onClickCallToAction:F})})),Object(ae.a)(a,fe,(function(){return r.a.createElement("div",{role:"presentation"},r.a.createElement(Ne.a,null))})),Object(ae.a)(a,ve,(function(){return r.a.createElement(he,{image:_e.a,imageAlt:t("Something wrong happened"),title:t("This event has ended")})})),Object(ae.a)(a,ge,(function(){return r.a.createElement("div",{className:"animate__animated animate__fadeIn"},r.a.createElement("div",{className:"create-page__title"},t("Fill in the details below to make your office reservation")),r.a.createElement("form",{"aria-label":t("Office reservation"),onSubmit:function(e){e.preventDefault()}},r.a.createElement("div",{className:"create-page__content"},r.a.createElement(ue,{translate:t,id:"name",type:"text",value:b.value,onChange:h,title:t("Name")}),r.a.createElement(ue,{translate:t,id:"corporateEmail",type:"text",value:k.value,onChange:Y,title:t("Corporate email"),displayErrors:k.isTouched,validation:O(t,i)}),r.a.createElement(ue,{translate:t,id:"preferredTime",title:t("Book your preferences for this event"),type:"select",list:T(o),value:B.value,onChange:D,placeholder:t("Preferred time")}),r.a.createElement(ue,{translate:t,id:"seats",type:"select",disabled:""===B.value,list:N({preferredTime:B,availableTimesAndSeats:o,translate:t}),value:A.value,onChange:x,placeholder:t("Number of seats"),displayErrors:m,validation:{test:function(){return!m},message:function(){return t("Your booking preferences has changed")}}})),r.a.createElement("div",{className:"create-page__footer"},r.a.createElement(de,{onClick:function(){return!V&&s(H)},isDisabled:V},t(c?"Please wait ...":"Continue")))))})),a);return r.a.createElement(Te,null,U[f]())},Se=t(20),Ce=t.n(Se),Ae=function(){var e=Object(ee.a)(X.a.mark((function e(a){var t,n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.data,n=a.companyHash,e.abrupt("return",fetch(be,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Ce.a.stringify(Object(L.a)(Object(L.a)({},t),{},{companyHash:n}))}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),xe=V("SET_COMPANY_DATA"),Pe=V("SET_COMPANY_STATUS"),Ie="failed",Be="loaded",De="loading",Me="expired",Le="outdated",He=t(118),Ve=function(e,a){var t=e.company,o=e.setCompanyStatus,i=a.t,s=Object(q.f)().companyHash,c=Object(n.useState)(!1),l=Object(v.a)(c,2),u=l[0],m=l[1],d=Object(n.useState)(!1),f=Object(v.a)(d,2),g=f[0],p=f[1],b=Object(n.useState)(!1),h=Object(v.a)(b,2),E=h[0],_=h[1],y=function(){var e=Object(ee.a)(X.a.mark((function e(a){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,Ae({data:a,companyHash:s});case 3:if(t=e.sent,t.status!==He.a.NOT_FOUND){e.next=11;break}return o(Le),_(!0),m(!1),setTimeout((function(){return _(!0)}),3e3),e.abrupt("return");case 11:p(!0);case 12:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(je,{translate:i,acceptedDomains:t.acceptedDomains,eventStartTime:t.event.eventStartTime,eventEndTime:t.event.eventEndTime,availableTimesAndSeats:t.event.availableTimesAndSeats,onSubmit:y,isSubmitting:u,showInvalidBookingMessage:E,showSuccessState:g,resetFormAction:function(){o(Le),p(!1),m(!1)}})};Ve.contextTypes={t:R.func};var Fe,Ye=Object(s.connect)((function(e){return{company:e.company}}),(function(e){return Object(x.b)({setCompanyStatus:Pe},e)}))(Object(q.g)(Ve)),Ue="loading",ze="notFound",Ke="unavailable",Ge="cancelled",Re="confirmed",qe=(Fe={},Object(ae.a)(Fe,He.a.NOT_FOUND,ze),Object(ae.a)(Fe,He.a.LOCKED,Ge),Object(ae.a)(Fe,He.a.OK,Re),Object(ae.a)(Fe,He.a.PRECONDITION_FAILED,Ke),Fe),Je=function(e){return"".concat(d,"/booking/confirm/").concat(e)},We="".concat(d,"/booking/cancel"),Ze=function(){var e=Object(ee.a)(X.a.mark((function e(a){var t,n,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.bookingId,n=a.seat,r=a.time,e.abrupt("return",fetch(Je(t),{method:"PATCH",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Ce.a.stringify((o={bookingId:t,seat:n,time:r},Object.fromEntries(Object.entries(o).filter((function(e){var a=Object(v.a)(e,2),t=(a[0],a[1]);return Boolean(t)})))))}));case 2:case"end":return e.stop()}var o}),e)})));return function(a){return e.apply(this,arguments)}}(),$e=function(){var e=Object(ee.a)(X.a.mark((function e(a){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.bookingId,e.abrupt("return",fetch(We,{method:"PATCH",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Ce.a.stringify({bookingId:t})}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Qe=V("SET_BOOKING_STATUS"),Xe=V("SET_BOOKING_DATA"),ea=(t(111),function(e){var a=e.status,t=function(e){var a;return a={},Object(ae.a)(a,Re,e("Congratulations! Your reservation has been successfully confirmed. Here is a brief summary of your booking details:")),Object(ae.a)(a,Ge,e("You cancelled your booking. Here is a brief summary of your cancelled booking details:")),a}(e.translate)[a]||!1;return t?r.a.createElement("div",{className:"booking-status__message"},t):null}),aa=function(e){var a=e.status,t=e.translate;return r.a.createElement("div",{role:"status",className:"booking-status__status--".concat(a)},function(e){var a;return a={},Object(ae.a)(a,Re,e("Confirmed")),Object(ae.a)(a,Ge,e("Cancelled")),a}(t)[a])},ta=function(e){var a=e.time,t=e.translate;return r.a.createElement("div",{className:"booking-status__row"},r.a.createElement("div",{className:"booking-status__row--title"},t("Time")),r.a.createElement("div",{className:"booking-status__row--value"},w.unix(a).format("h A")))},na=function(e){var a=e.office,t=e.translate;return r.a.createElement("div",{className:"booking-status__row"},r.a.createElement("div",{className:"booking-status__row--title"},t("Office")),r.a.createElement("div",{className:"booking-status__row--value"},a))},ra=function(e){var a=e.seats,t=e.translate;return r.a.createElement("div",{className:"booking-status__row"},r.a.createElement("div",{className:"booking-status__row--title"},t("Seats")),r.a.createElement("div",{className:"booking-status__row--value"},a))},oa=function(e){var a=e.onCancel,t=e.translate,n=e.processing;return r.a.createElement("div",{className:"booking-status__row"},r.a.createElement(de,{onClick:a,styleType:"secondary",isDisabled:n},t(n?"Please wait ...":"Cancel")))},ia=function(e){var a=e.translate,t=e.data,n=e.onNewBooking,o=e.onCancel,i=e.processing,s=t.status===Ge;return r.a.createElement("section",{className:"booking-status animate__animated animate__fadeIn"},r.a.createElement("div",{className:"booking-status__title",role:"heading","aria-level":"2"},a("Hey {name},",{name:t.name})),r.a.createElement(ea,{status:t.status,translate:a}),r.a.createElement("div",{className:"booking-status__status"},r.a.createElement(aa,{status:t.status,translate:a}),r.a.createElement("div",{className:"booking-status__status--code"},a("Reservation code: {code}",{code:t.id}))),!s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ta,{time:t.time,translate:a}),r.a.createElement(ra,{seats:t.seats,translate:a}),r.a.createElement(na,{office:t.office,translate:a})),r.a.createElement("div",{className:"booking-status__row"},r.a.createElement(de,{isDisabled:i,onClick:n,styleType:"secondary"},a("New booking"))),!s&&r.a.createElement(oa,{processing:i,translate:a,onCancel:o}))};ia.defaultProps={translate:function(e){return e}};var sa=ia,ca=(t(112),function(e){var a=e.time,t=e.seat,n=e.onBook,o=e.translate,i=w.unix(a).format("h A");return r.a.createElement("div",{className:"office-card animate__animated animate__fadeIn",role:"listitem"},r.a.createElement("div",{className:"office-card__content"},r.a.createElement("div",{className:"office-card__time","aria-label":o("Time: {time}",{time:i})},i),r.a.createElement("div",{className:"office-card__seats"},r.a.createElement("div",{className:"office-card__seats--icon",role:"presentation","aria-hidden":"true"},r.a.createElement(re.a,null)),r.a.createElement("div",{className:"office-card__seats--text","aria-label":o("Seats available: {seat}",{seat:t})},t))),r.a.createElement("div",{className:"office-card__footer"},r.a.createElement(de,{onClick:function(){return n({seat:t,time:a})}},o("Book"))))});ca.defaultProps={translate:function(e){return e}};var la=ca,ua=t(58),ma=(t(113),function(e){var a=e.current,t=e.total,n=e.onPageChange,o=e.label,i=e.translate;return r.a.createElement("nav",{role:"slider","aria-label":o,"aria-valuenow":a,"aria-valuemin":"1","aria-valuemax":t,"aria-valuetext":i("Page {num}",{num:a})},r.a.createElement(ua.a,{current:a,total:t,onPageChange:n}))});ma.defaultProps={translate:function(e){return e}};var da=ma,fa=(t(114),function(e){var a=e.translate,t=e.event,o=e.onBook,i=t.availableTimesAndSeats,s=Object(n.useState)(y()),c=Object(v.a)(s,2),l=c[0],u=c[1],m=Object(n.useState)(y()),d=Object(v.a)(m,2),f=d[0],g=d[1],p=Object(n.useState)(1),b=Object(v.a)(p,2),E=b[0],_=b[1],k=function(){return _(1)},O=function(e){return e.reduce((function(e,a){var t=a.time;return a.seats.forEach((function(a,n){e.push({id:h()({seat:a,time:t,index:n}),seat:a,time:t})})),e}),[])}(function(e){var a=e.seats,t=e.preferredTime;return e.availableTimesAndSeats.reduce((function(e,n){if(""!==String(t.value)&&String(t.value)!==String(n.time))return e;var r=n.seats.filter((function(e){return""===String(t.value)||(""===String(a.value)||String(a.value)===e)}));return e.push({time:n.time,seats:r}),e}),[])}({seats:l,preferredTime:f,availableTimesAndSeats:i})),w=O.length,j=w/6,S=w>6;return r.a.createElement("section",{className:"booking-change animate__animated animate__fadeIn"},r.a.createElement("div",{className:"booking-change__title",role:"alert"},a("Unfortunately the time that you selected isn't available anymore. Please select a new option below")),r.a.createElement("div",{className:"booking-change__options",role:"search","aria-label":a("Time/Seats filters")},r.a.createElement("div",{className:"booking-change__column booking-change__column--left"},r.a.createElement(ue,{type:"select",translate:a,id:"booking-change-time",value:f.value,onChange:function(e){g(e),u(y()),k()},showClearButton:!0,onClear:function(){u(y()),k()},list:T(i),placeholder:a("Select a time")})),r.a.createElement("div",{className:"booking-change__column booking-change__column--right"},r.a.createElement(ue,{type:"select",translate:a,disabled:""===f.value,value:l.value,onChange:function(e){u(e),k()},showClearButton:!0,id:"booking-change-seats",list:N({preferredTime:f,availableTimesAndSeats:i,translate:a}),placeholder:a("Number of seats")}))),r.a.createElement("div",{className:"booking-change__subtitle",role:"heading","aria-level":"2"},a("Available offices")),r.a.createElement("div",{className:"booking-change__content",role:"list"},function(e){var a=e.items,t=e.itemsPerPage,n=e.page;return a.slice((n-1)*t,n*t)}({items:O,page:E,itemsPerPage:6}).map((function(e){var t=e.id,n=e.seat,i=e.time;return r.a.createElement(la,{key:t,seat:n,time:i,translate:a,onBook:o})}))),S&&r.a.createElement("div",{className:"booking-change__paginator"},r.a.createElement(da,{current:E,translate:a,label:a("Navigate into available offices list"),total:j,onPageChange:_})))});fa.defaultProps={translate:function(e){return e}};var va=fa,ga=function(e){var a=e.translate;return r.a.createElement("div",{role:"status","aria-live":"polite"},r.a.createElement("img",{alt:a("Please wait ..."),src:Ne.a}))},pa=function(e,a){var t,o=e.booking,i=e.setBookingStatus,s=e.setBookingData,c=e.history,l=e.company,u=a.t,m=Object(q.f)(),d=m.bookingId,f=m.companyHash,g=Object(n.useState)(!1),p=Object(v.a)(g,2),b=p[0],h=p[1],E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.seat,t=void 0===a?null:a,n=e.time,r=void 0===n?null:n;Ze({seat:t,time:r,bookingId:d}).then((function(e){return i(qe[e.status]),h(!1),e.json()})).then((function(e){e&&e.booking&&s(e.booking)}))};Object(n.useEffect)((function(){E()}),[d]);var _=r.a.createElement(sa,{translate:u,data:o,processing:b,onCancel:function(){window.confirm(u("Are you sure that you want to cancel your booking"))&&(h(!0),$e({bookingId:d}).then((function(){E()})))},onNewBooking:function(){return c.push("/".concat(f))}});return(t={},Object(ae.a)(t,Ge,(function(){return _})),Object(ae.a)(t,Re,(function(){return _})),Object(ae.a)(t,Ke,(function(){return r.a.createElement(va,{translate:u,event:l.event,onBook:E})})),Object(ae.a)(t,Ue,(function(){return r.a.createElement(ga,{translate:u})})),Object(ae.a)(t,ze,(function(){return r.a.createElement(he,{image:_e.a,imageAlt:u("Something wrong happened"),title:u("Unable to find your booking")})})),t)[o.status]()};pa.contextTypes={t:R.func};var ba=Object(s.connect)((function(e){return{booking:e.booking,company:e.company}}),(function(e){return Object(x.b)({setBookingStatus:Qe,setBookingData:Xe},e)}))(Object(q.g)(pa)),ha=t(55),Ea=t.n(ha),_a=function(e,a){var t=a.t;return r.a.createElement("div",{className:"not-found"},r.a.createElement("img",{src:Ea.a,alt:t("Image with a alien spaceship abducting somebody")}),r.a.createElement("br",null),r.a.createElement("br",null),t("Page not found",{},"404 main text")," ",r.a.createElement("br",null))};_a.defaultProps={translate:function(e){return e}},_a.contextTypes={t:R.func};var ya=_a,ka=function(){return r.a.createElement(q.c,null,r.a.createElement(q.a,{path:"/:companyHash",exact:!0},r.a.createElement(Ye,null)),r.a.createElement(q.a,{path:"/:companyHash/booking/:bookingId"},r.a.createElement(ba,null)),r.a.createElement(q.a,{path:"*",exact:!0},r.a.createElement(ya,null)))},Oa=t(56),Na=document.body,wa=function(){Na.classList.remove("dark-mode"),Na.classList.remove("light-mode"),Na.classList.add("".concat(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light","-mode"))},Ta=function(e){Object(s.useSelector)((function(e){return e.settings})).darkMode;return wa(),Na.classList.add(se()?"mobile-tablet":"desktop"),function(){var e=function(e){return e.toLowerCase().split(" ").join("-")},a=Object(Oa.a)(),t=a.name,n=a.version,r=a.os;Na.classList.add(e(t)),Na.classList.add(e("".concat(t,"-").concat(n))),Na.classList.add(e(r))}(),e.children},ja=function(e){return fetch(function(e){return"".concat(d,"/company/").concat(e)}(e))},Sa=(t(115),t(57)),Ca=t.n(Sa),Aa=function(e){var a,t=e.translate,n=e.event,o=e.children,i=w.unix(n.eventStartTime).format("Do MMMM, dddd"),s=w.unix(n.eventStartTime).format("Do MMM | ddd");return r.a.createElement("div",{className:"companyCard"},r.a.createElement("div",{className:"companyCard__header",style:{backgroundImage:"url(".concat(Ca.a,")")}},r.a.createElement("div",{className:"companyCard__header--row"},r.a.createElement("div",{className:"companyCard__header--title",title:t("Event name")},n.name),r.a.createElement("div",{className:"companyCard__header--date","aria-label":i},s)),r.a.createElement("div",{className:"companyCard__header--row"},r.a.createElement("address",{className:"companyCard__header--address"},n.address),r.a.createElement("div",{className:"companyCard__header--directions"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:(a=n.address,"".concat("https://www.google.com/maps/search/").concat(a))},t("Get directions"))))),r.a.createElement("div",{className:"companyCard__content"},o))};Aa.defaultProps={children:R.oneOfType([R.arrayOf(R.node),R.node]).isRequired,translate:function(e){return e},event:R.shape({name:R.string,address:R.string,eventStartTime:R.number})};var xa=Aa,Pa=function(e){var a=e.state,t=e.children,n=e.translate,o=e.data,i=function(){return r.a.createElement(xa,{translate:n,event:o.event},t)};return{loading:function(){return r.a.createElement(ga,{translate:n})},loaded:i,failed:function(){return r.a.createElement(ya,{translate:n})},expired:i}[a]()};Pa.defaultProps={translate:function(e){return e}};var Ia=Pa,Ba=function(e,a){var t=e.children,o=e.company,i=e.setCompanyData,s=a.t,c=Object(n.useState)(De),l=Object(v.a)(c,2),u=l[0],m=l[1],d=Object(q.f)().companyHash,f=function(){var e;o.status!==Le&&m(De);var a=(e={},Object(ae.a)(e,He.a.NOT_FOUND,Ie),Object(ae.a)(e,He.a.LOCKED,Me),Object(ae.a)(e,He.a.OK,Be),e),t=a[u];ja(d).then((function(e){var n=a[e.status]||Ie;return n!==t&&m(n),e.json()})).then(i)};return r.a.useEffect((function(){f()}),[d]),o.status===Le&&f(),r.a.createElement(Ia,{state:u,translate:s,data:o},t)};Ba.contextTypes={t:R.func,history:R.shape({push:R.func.isRequired})};var Da=Object(s.connect)((function(e){return{company:e.company}}),(function(e){return Object(x.b)({setCompanyData:xe},e)}))(Object(q.g)(Ba)),Ma=function(e,a){var t=a.t;return r.a.createElement(Ta,null,r.a.createElement("div",{className:"app",style:{backgroundImage:"url(".concat(W.a,")")}},r.a.createElement("div",{className:"app__logo"},r.a.createElement("a",{href:"https://github.com/rxluz/booksys"},r.a.createElement("img",{src:$.a,href:!0,alt:t("Booksys logo")}))),r.a.createElement(q.c,null,r.a.createElement(q.a,{path:"/:companyHash"},r.a.createElement(Da,null,r.a.createElement(ka,null))),r.a.createElement(q.a,null,r.a.createElement(ya,{translate:t})))))};Ma.defaultProps={translate:function(e){return e}},Ma.contextTypes={t:R.func};var La=Ma;t(116),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ha=function(e){var a=[!1,P.a].filter(Boolean),t=[x.a.apply(void 0,Object(A.a)(a)),M,!1].filter(Boolean),n=x.d.apply(void 0,Object(A.a)(t)),r=Object(x.e)(G,e,n);return{store:r,persistor:Object(I.b)(r)}}(),Va=Ha.store,Fa=Ha.persistor;i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.Provider,{store:Va},r.a.createElement(j.a,{loading:null,persistor:Fa},r.a.createElement(u.a,{translations:{en:{Hello:"world"},options:{plural_rule:"n > 1",plural_number:"2"},pt:{"One seat":"Um assento","Event name":"Nome do evento","Get directions":"Ver dire\xe7\xf5es","Clear field value":"Limpar campo","Please wait ...":"Por favor aguarde \u2026","Time: {time}":"Hor\xe1rio: {time}","{num} seats":"{num} assentos","Seats available: {seat}":"Assentos dispon\xedveis: {seat}",Book:"Agendar","Page {num}":"P\xe1gina {num}","Your email looks incorrect":"Seu email est\xe1 incorreto","This email is not acceptable, please make sure to use your corporate email":"Esse email n\u0101o \xe9 aceit\xe1vel, por favor use o seu email corporativo","Congratulations! Your reservation has been successfully confirmed. Here is a brief summary of your booking details:":"Parab\xe9ns! Sua reserva foi efetuada com sucesso. Veja abaixo um resumo do seu agendamento:","You cancelled your booking. Here is a brief summary of your cancelled booking details:":"Voc\xea cancelou seu agendamento. Abaixo esta um resumo do agendamento cancelado:",Confirmed:"Confirmado",Cancelled:"Cancelado","Are you sure that you want to cancel your booking":"Voc\xea tem certeza que deseja cancelar esse agendamento?","Something wrong happened":"Algo inesperado aconteceu","Unable to find your booking":"N\u0101o conseguimos encontrar seu agendamento","Unfortunately the time that you selected isn't available anymore. Please select a new option below":"Infelizmente esse hor\xe1rio n\xe3o esta mais dispon\xedvel. Por favor selecione uma nova op\xe7\xe3o abaixo","Time/Seats filters":"Filtros de hor\xe1rio / assentos","Select a time":"Selecione um hor\xe1rio ","Number of seats":"Numero de assentos","Available offices":"Salas dispon\xedveis","Navigate into available offices list":"Navegue na lista de salas dispon\xedveis ","Email illustration":"Ilustra\xe7\xe3o de email","Check your email":"Verifique o seu email","You are almost there to reserve your room for this event! Please make sure to finish your reservation as soon as possible to avoid losing your booking.":"Voc\xea esta quase la para reservar a sua sala nesse evento! Por favor se assegure de finalizar a sua reserva o quanto antes para evitar perder o seu agendamento.","If you can't found the email, check your spam folder.":"Se voc\xea n\u0101o encontrar o email, por favor verifique a sua caixa de spam.","New booking":"Novo agendamento","This event has ended":"Esse evento est\xe1 encerrado","Fill in the details below to make your office reservation":"Preencha seus detalhes abaixo para fazer a sua reserva de sala","Office reservation":"Reserva de sala",Name:"Nome","Corporate email":"E-mail corporativo","Book your preferences for this event":"Defina as suas preferencias para esse evento","Preferred time":"Hor\xe1rio preferido","Your booking preferences has changed":"Suas preferencias de agendamento foram alteradas",Continue:"Continuar",Time:"Hor\xe1rio",Office:"Sala",Seats:"Assentos",Cancel:"Cancelar","Hey {name},":"Oi {name},","Reservation code: {code}":"C\xf3digo de reserva: {code}","Booksys logo":"Logo da Booksys","Image with a alien spaceship abducting somebody":"Imagem com uma nave espacial abduzindo algu\xe9m","Page not found":"Pagina n\u0101o encontrada"}},initialLang:_(),fallbackLang:"en"},r.a.createElement(c.a,null,r.a.createElement(La,null)))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),setTimeout((function(){C.a.enable(),console.log(C.a.zalgo(f)),console.log(C.a.random(f))}),2e3)},27:function(e,a,t){e.exports=t.p+"static/media/something-wrong.19763570.svg"},28:function(e,a,t){e.exports=t.p+"static/media/loading.26ad38f4.svg"},49:function(e,a,t){e.exports=t.p+"static/media/background.9adfa93a.png"},50:function(e,a,t){e.exports=t.p+"static/media/logo.e29d4d3a.svg"},53:function(e,a,t){e.exports=t.p+"static/media/email.ffaebffe.svg"},55:function(e,a,t){e.exports=t.p+"static/media/NotFound.df523510.svg"},57:function(e,a,t){e.exports=t.p+"static/media/companyCardBackground.b2695cc6.png"},60:function(e,a,t){e.exports=t(117)},92:function(e,a,t){},95:function(e,a,t){},96:function(e,a,t){},97:function(e,a,t){},98:function(e,a,t){}},[[60,1,2]]]);
//# sourceMappingURL=main.ee4f80aa.chunk.js.map