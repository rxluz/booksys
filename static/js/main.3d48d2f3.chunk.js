(this["webpackJsonpbooksys-client"]=this["webpackJsonpbooksys-client"]||[]).push([[0],{26:function(e,t,a){e.exports=a.p+"static/media/something-wrong.19763570.svg"},45:function(e,t,a){e.exports=a.p+"static/media/background.9adfa93a.png"},46:function(e,t,a){e.exports=a.p+"static/media/logo.e29d4d3a.svg"},50:function(e,t,a){e.exports=a.p+"static/media/email.90faf953.svg"},53:function(e,t,a){e.exports=a.p+"static/media/companyCardBackground.b2695cc6.png"},56:function(e,t,a){e.exports=a(99)},72:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},89:function(e,t){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(22),i=a.n(o),c=a(14),s=a(16),l=a(23),u=a.n(l),m=a(41),d=a.n(m),f=a(42),v=a(35),b=a(8),p=a(43),g=a(34),h=a(44),_=a.n(h),E=function(e){return function(t,a,n){return e((function(e,a){var n,r=performance.now(),o=t(e,a),i=performance.now(),c=(n=i-r,Math.round(100*n)/100);return console.log("reducer process time:",c),o}),a,n)}},y=a(7),O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,n=arguments.length>1?arguments[1]:void 0;return e(a)[n.type]?e(a)[n.type](a,n):a}},k=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(a){return a({type:e,value:t})}}},T=O((function(e){return{SETTINGS_TOGGLE_DARK_MODE:function(){return Object(y.a)(Object(y.a)({},e),{},{darkMode:!e.darkMode})}}}),{darkMode:"browser"}),j=O((function(){return{SET_COMPANY_DATA:function(e,t){return Object(y.a)(Object(y.a)({},e),t.value)},SET_COMPANY_STATUS:function(e,t){return Object(y.a)(Object(y.a)({},e),{},{status:t.value})}}}),{event:{name:"",eventStartTime:"",eventEndTime:"",address:"",availableTimes:[]},acceptedDomains:[],shouldRefresh:!0}),N=O((function(){return{SET_BOOKING_STATUS:function(e,t){return Object(y.a)(Object(y.a)({},e),{},{status:t.value})},SET_BOOKING_DATA:function(e,t){return Object(y.a)(Object(y.a)({},e),t.value)}}}),{name:"",corporateEmail:"",seats:0,office:"",time:"",status:"loading",id:""}),w=Object(b.c)({settings:T,company:j,booking:N,i18nState:l.i18nState}),S={key:"settings",storage:_.a},C=Object(g.a)(S,w);var A=a(5),x=(a(72),a(73),a(3)),I=a(45),B=a.n(I),D=a(46),M=a.n(D),P=a(15),L=a.n(P),F=a(17),H=a(6),V=a(4),K=a(55),U=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Y="https://29b0050b-7001-4162-994f-acfec6195274.mock.pstmn.io",G=a(13),R=a.n(G),q=a(47),z=a.n(q),J=function(e){var t=e.onChange,a=e.isValid,n=e.valueForced,r=void 0===n?"NO":n,o=e.isTouched,i=void 0!==o&&o;return function(e){return t({value:"NO"!==r?r:e.target.value,isValid:a,isTouched:i})}},W=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{value:t,isValid:e,isTouched:!1}},Z=function(e){return{EMAIL:{test:function(e){return U.test(String(e).toLowerCase())},message:function(){return e("Your email looks incorrect")}}}},$=function(e){return(e||[]).reduce((function(e,t){var a=t.time;if(R()().unix()>a)return e;var n=R.a.unix(a).format("h A");return e.push({value:a,text:n}),e}),[])},Q=function(e,t){return{test:function(a){return Z(e).EMAIL.test(a)&&t.some((function(e){return a.split("@")[1]===e}))},message:function(t){return Z(e).EMAIL.test(t)?e("This email is not acceptable, please make sure to use your corporate email"):Z(e).EMAIL.message(t)}}},X=function(e){var t=e.preferredTime,a=e.availableTimesAndSeats,n=e.translate;return t.value?function(e,t){return e.reduce((function(e,a){var n=a.time,r=a.seats;return e[n]=r.map((function(e){return{value:e,text:t(["One seat","{num} seats"],{num:e})}})),e}),{})}(a,n)[t.value]:[]},ee=(a(76),a(49)),te=a(25),ae=a(48),ne=a.n(ae),re=function(){return ne()({tablet:!0})},oe=function(e){var t=e.displayErrors,a=e.isValid,n=e.validation,o=e.value;return n?t&&!a&&r.a.createElement("aside",{role:"alert",className:"animate__animated animate__fadeIn input__warning"},r.a.createElement("i",{className:"input__warning--icon",role:"presentation","aria-hidden":"true"},r.a.createElement(ee.a,{size:"16px"})),r.a.createElement("p",{className:"input__warning--text"},n.message(o))):null},ie=function(e){var t=e.title,a=e.type,o=e.id,i=e.placeholder,c=e.value,s=e.displayErrors,l=e.onChange,u=e.isValid,m=e.validation,d=e.list,f=e.disabled,v=e.showClearButton,b=e.onClear,p=e.translate,g=Object(n.useRef)(),h=m?m.test(c):!!u,_=function(){return l({value:c,isValid:h,isTouched:""!==c})},E=function(){J({onChange:l,isValid:h,valueForced:""})(),b&&b()},y=function(){re()&&g.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},O=function(){re()&&_()},k={text:function(){return r.a.createElement("input",{id:o,onFocus:y,ref:g,disabled:f,onChange:J({onChange:l,isValid:h,isTouched:re()}),onKeyUp:O,onBlur:_,value:c,className:"input__element--text",placeholder:i})},select:function(){return r.a.createElement(r.a.Fragment,null,!f&&""!==c&&v&&r.a.createElement("div",{className:"input__element--clear",role:"button","aria-label":p("Clear field value"),onClick:E},r.a.createElement(te.b,null)),r.a.createElement("select",{id:o,onFocus:y,ref:g,disabled:f,onChange:J({onChange:l,isValid:h}),className:"input__element--select"},!!i&&r.a.createElement("option",{selected:""===c,disabled:!0},i),d&&d.map((function(e){var t=e.value,a=e.text;return r.a.createElement("option",{selected:c===t,key:t,value:t},a)}))))}};return r.a.createElement("div",{className:"input"},!!t&&r.a.createElement("label",{className:"input__title",htmlFor:o},t),k[a]&&k[a](),r.a.createElement(oe,{displayErrors:s,isValid:h,validation:m,value:c}))};ie.defaultProps={type:"input",isValid:!0,displayErrors:!0,list:[]};var ce=ie,se=(a(77),function(e){var t=e.children,a=e.isDisabled,n=e.onClick,o=e.styleType;return r.a.createElement("button",{className:"button button--".concat(o),onClick:function(){return a?null:n()},disabled:a},t)});se.defaultProps={styleType:"primary"};var le=se,ue="loading",me="expired",de="form",fe="success",ve="".concat(Y,"/booking/request"),be=(a(78),function(e){var t=e.image,a=e.imageAlt,n=e.title,o=e.description,i=e.footerMessage,c=e.callToActionText,s=e.callToActionType,l=e.onClickCallToAction;return r.a.createElement("div",{className:"warning animate__animated animate__fadeIn"},r.a.createElement("div",{className:"warning__content"},t&&r.a.createElement("div",{className:"warning__image"},r.a.createElement("img",{alt:a,src:t})),n&&r.a.createElement("div",{className:"warning__title"},n),o&&r.a.createElement("div",{className:"warning__description"},o),i&&r.a.createElement("div",{className:"warning__footer-message"},i)),c&&r.a.createElement("div",{className:"warning__footer"},r.a.createElement(le,{styleType:s,className:"warning__footer--button",onClick:l},c)))}),pe=a(26),ge=a.n(pe),he=a(50),_e=a.n(he),Ee=(a(79),["value"]),ye=function(e){var t=e.children;return r.a.createElement("section",{className:"create-page animate__animated animate__fadeIn"},t)},Oe=function(e){var t,a=e.translate,o=e.availableTimesAndSeats,i=e.acceptedDomains,c=e.onSubmit,s=e.isSubmitting,l=e.eventEndTime,u=e.showSuccessState,m=e.showInvalidBookingMessage,d=e.resetFormAction,f=function(e){var t=e.eventEndTime,a=e.showSuccessState;return t<R()().unix()?me:a?fe:de}({showSuccessState:u,eventEndTime:l}),v=Object(n.useState)(W()),b=Object(H.a)(v,2),p=b[0],g=b[1],h=Object(n.useState)(W()),_=Object(H.a)(h,2),E=_[0],O=_[1],k=Object(n.useState)(W()),T=Object(H.a)(k,2),j=T[0],N=T[1],w=Object(n.useState)(W()),S=Object(H.a)(w,2),C=S[0],A=S[1],x={name:p,corporateEmail:E,seats:j,preferredTime:C},I=Object.keys(x).reduce((function(e,t){return e[t]=x[t].value,e}),{}),B=s||!function(e){return Object.values(e).every((function(e){var t=e.value,a=e.isValid;return!!t&&a}))}(x),D=function(){N(W()),A(W()),d()},M=function(e){var t=e.value,a=Object(K.a)(e,Ee);return O(Object(y.a)({value:t.trim()},a))},P=(t={},Object(V.a)(t,fe,(function(){return r.a.createElement(be,{image:_e.a,imageAlt:a("Email illustration"),title:a("Check your email"),description:a("You are almost there to reserve your room for this event! Please make sure to finish your reservation as soon as possible to avoid losing your booking."),footerMessage:a("If you can't found the email, check your spam folder."),callToActionType:"secondary",callToActionText:a("New booking"),onClickCallToAction:D})})),Object(V.a)(t,ue,(function(){return r.a.createElement("div",null,a("Loading..."))})),Object(V.a)(t,me,(function(){return r.a.createElement(be,{image:ge.a,imageAlt:a("Something wrong happened"),title:a("This event has ended")})})),Object(V.a)(t,de,(function(){return r.a.createElement("div",{className:"animate__animated animate__fadeIn"},r.a.createElement("div",{className:"create-page__title"},a("Fill in the details below to make your office reservation")),r.a.createElement("form",{"aria-label":a("Office reservation"),onSubmit:function(e){e.preventDefault()}},r.a.createElement("div",{className:"create-page__content"},r.a.createElement(ce,{translate:a,id:"name",type:"text",value:p.value,onChange:g,title:a("Name")}),r.a.createElement(ce,Object(V.a)({translate:a,id:"corporateEmail",type:"text",value:E.value,onChange:M,title:a("Corporate email"),displayErrors:E.isTouched,validation:Q(a,i)},"translate",a)),r.a.createElement(ce,{translate:a,id:"preferredTime",title:a("Book your preferences for this event"),type:"select",list:$(o),value:C.value,onChange:A,placeholder:a("Preferred time")}),r.a.createElement(ce,{translate:a,id:"seats",type:"select",disabled:""===C.value,list:X({preferredTime:C,availableTimesAndSeats:o,translate:a}),value:j.value,onChange:N,placeholder:a("Number of seats"),displayErrors:m,validation:{test:function(){return!m},message:function(){return a("Your booking preferences has changed")}}})),r.a.createElement("div",{className:"create-page__footer"},r.a.createElement(le,{onClick:function(){return!B&&c(I)},isDisabled:B},a(s?"Please wait ...":"Continue")))))})),t);return r.a.createElement(ye,null,P[f]())},ke=a(21),Te=a.n(ke),je=function(){var e=Object(F.a)(L.a.mark((function e(t){var a,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,n=t.companyHash,e.abrupt("return",fetch(ve,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Te.a.stringify(Object(y.a)(Object(y.a)({},a),{},{companyHash:n}))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=k("SET_COMPANY_DATA"),we=k("SET_COMPANY_STATUS"),Se="failed",Ce="loaded",Ae="loading",xe="expired",Ie="outdated",Be=a(100),De=function(e,t){var a=e.company,o=e.setCompanyStatus,i=t.t,c=Object(x.f)().companyHash,s=Object(n.useState)(!1),l=Object(H.a)(s,2),u=l[0],m=l[1],d=Object(n.useState)(!1),f=Object(H.a)(d,2),v=f[0],b=f[1],p=Object(n.useState)(!1),g=Object(H.a)(p,2),h=g[0],_=g[1],E=function(){var e=Object(F.a)(L.a.mark((function e(t){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,je({data:t,companyHash:c});case 3:if(a=e.sent,a.status!==Be.a.NOT_FOUND){e.next=11;break}return o(Ie),_(!0),m(!1),setTimeout((function(){return _(!0)}),3e3),e.abrupt("return");case 11:b(!0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Oe,{translate:i,acceptedDomains:a.acceptedDomains,eventStartTime:a.event.eventStartTime,eventEndTime:a.event.eventEndTime,availableTimesAndSeats:a.event.availableTimesAndSeats,onSubmit:E,isSubmitting:u,showInvalidBookingMessage:h,showSuccessState:v,resetFormAction:function(){o(Ie),b(!1),m(!1)}})};De.contextTypes={t:A.func};var Me,Pe=Object(c.connect)((function(e){return{company:e.company}}),(function(e){return Object(b.b)({setCompanyStatus:we},e)}))(Object(x.g)(De)),Le="loading",Fe="notFound",He="unavailable",Ve="cancelled",Ke="confirmed",Ue=(Me={},Object(V.a)(Me,Be.a.NOT_FOUND,Fe),Object(V.a)(Me,Be.a.LOCKED,Ve),Object(V.a)(Me,Be.a.OK,Ke),Object(V.a)(Me,Be.a.PRECONDITION_FAILED,He),Me),Ye="".concat(Y,"/booking/confirm"),Ge="".concat(Y,"/booking/cancel"),Re=function(){var e=Object(F.a)(L.a.mark((function e(t){var a,n,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.bookingId,n=t.seat,r=t.time,e.abrupt("return",fetch(Ye,{method:"PATCH",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Te.a.stringify((o={bookingId:a,seat:n,time:r},Object.fromEntries(Object.entries(o).filter((function(e){var t=Object(H.a)(e,2),a=(t[0],t[1]);return Boolean(a)})))))}));case 2:case"end":return e.stop()}var o}),e)})));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=Object(F.a)(L.a.mark((function e(t){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.bookingId,e.abrupt("return",fetch(Ge,{method:"PATCH",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Te.a.stringify({bookingId:a})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=k("SET_BOOKING_STATUS"),Je=k("SET_BOOKING_DATA"),We=(a(92),function(e){var t=e.status,a=function(e){var t;return t={},Object(V.a)(t,Ke,e("Congratulations! Your reservation has been successfully confirmed. Here is a brief summary of your booking details:")),Object(V.a)(t,Ve,e("You cancelled your booking. Here is a brief summary of your cancelled booking details:")),t}(e.translate)[t]||!1;return a?r.a.createElement("div",{className:"booking-status__message"},a):null}),Ze=function(e){var t=e.status,a=e.translate;return r.a.createElement("div",{role:"status",className:"booking-status__status--".concat(t)},function(e){var t;return t={},Object(V.a)(t,Ke,e("Confirmed")),Object(V.a)(t,Ve,e("Cancelled")),t}(a)[t])},$e=function(e){var t=e.time,a=e.translate;return r.a.createElement("div",{className:"booking-status__row"},r.a.createElement("div",{className:"booking-status__row--title"},a("Time")),r.a.createElement("div",{className:"booking-status__row--value"},R.a.unix(t).format("h A")))},Qe=function(e){var t=e.office,a=e.translate;return r.a.createElement("div",{className:"booking-status__row"},r.a.createElement("div",{className:"booking-status__row--title"},a("Office")),r.a.createElement("div",{className:"booking-status__row--value"},t))},Xe=function(e){var t=e.seats,a=e.translate;return r.a.createElement("div",{className:"booking-status__row"},r.a.createElement("div",{className:"booking-status__row--title"},a("Seats")),r.a.createElement("div",{className:"booking-status__row--value"},t))},et=function(e){var t=e.onCancel,a=e.translate,n=e.processing;return r.a.createElement("div",{className:"booking-status__row"},r.a.createElement(le,{onClick:t,styleType:"secondary",isDisabled:n},a(n?"Please wait ...":"Cancel")))},tt=function(e){var t=e.translate,a=e.data,n=e.onNewBooking,o=e.onCancel,i=e.processing,c=a.status===Ve;return r.a.createElement("section",{className:"booking-status animate__animated animate__fadeIn"},r.a.createElement("div",{className:"booking-status__title",role:"heading","aria-level":"2"},t("Hey {name},",{name:a.name})),r.a.createElement(We,{status:a.status,translate:t}),r.a.createElement("div",{className:"booking-status__status"},r.a.createElement(Ze,{status:a.status,translate:t}),r.a.createElement("div",{className:"booking-status__status--code"},t("Reservation code: {code}",{code:a.id}))),!c&&r.a.createElement(r.a.Fragment,null,r.a.createElement($e,{time:a.time,translate:t}),r.a.createElement(Xe,{seats:a.seats,translate:t}),r.a.createElement(Qe,{office:a.office,translate:t})),r.a.createElement("div",{className:"booking-status__row"},r.a.createElement(le,{isDisabled:i,onClick:n,styleType:"secondary"},t("New booking"))),!c&&r.a.createElement(et,{processing:i,translate:t,onCancel:o}))},at=(a(93),function(e){var t=e.time,a=e.seat,n=e.onBook,o=e.translate,i=R.a.unix(t).format("h A");return r.a.createElement("div",{className:"office-card animate__animated animate__fadeIn",role:"listitem"},r.a.createElement("div",{className:"office-card__content"},r.a.createElement("div",{className:"office-card__time","aria-label":o("Time: {time}",{time:i})},i),r.a.createElement("div",{className:"office-card__seats"},r.a.createElement("div",{className:"office-card__seats--icon",role:"presentation","aria-hidden":"true"},r.a.createElement(te.a,null)),r.a.createElement("div",{className:"office-card__seats--text","aria-label":o("Seats available: {seat}",{seat:a})},a))),r.a.createElement("div",{className:"office-card__footer"},r.a.createElement(le,{onClick:function(){return n({seat:a,time:t})}},o("Book"))))}),nt=a(54),rt=(a(94),function(e){var t=e.current,a=e.total,n=e.onPageChange,o=e.label,i=e.translate;return r.a.createElement("nav",{role:"slider","aria-label":o,"aria-valuenow":t,"aria-valuemin":"1","aria-valuemax":a,"aria-valuetext":i("Page {num}",{num:t})},r.a.createElement(nt.a,{current:t,total:a,onPageChange:n}))}),ot=(a(95),function(e){var t=e.translate,a=e.event,o=e.onBook,i=a.availableTimesAndSeats,c=Object(n.useState)(W()),s=Object(H.a)(c,2),l=s[0],u=s[1],m=Object(n.useState)(W()),d=Object(H.a)(m,2),f=d[0],v=d[1],b=Object(n.useState)(1),p=Object(H.a)(b,2),g=p[0],h=p[1],_=function(){return h(1)},E=function(e){return e.reduce((function(e,t){var a=t.time;return t.seats.forEach((function(t,n){e.push({id:z()({seat:t,time:a,index:n}),seat:t,time:a})})),e}),[])}(function(e){var t=e.seats,a=e.preferredTime;return e.availableTimesAndSeats.reduce((function(e,n){if(""!=a.value&&a.value!=n.time)return e;var r=n.seats.filter((function(e){return""==a.value||(""==t.value||t.value==e)}));return e.push({time:n.time,seats:r}),e}),[])}({seats:l,preferredTime:f,availableTimesAndSeats:i})),y=E.length,O=y/6,k=y>6;return r.a.createElement("section",{className:"booking-change animate__animated animate__fadeIn"},r.a.createElement("div",{className:"booking-change__title",role:"alert"},t("Unfortunately the time that you selected isn't available anymore. Please select a new option below")),r.a.createElement("div",{className:"booking-change__options",role:"search","aria-label":t("Time/Seats filters")},r.a.createElement("div",{className:"booking-change__column booking-change__column--left"},r.a.createElement(ce,{type:"select",id:"booking-change-time",value:f.value,onChange:function(e){v(e),u(W()),_()},showClearButton:!0,onClear:function(){u(W()),_()},list:$(i),placeholder:t("Select a time")})),r.a.createElement("div",{className:"booking-change__column booking-change__column--right"},r.a.createElement(ce,{type:"select",disabled:""===f.value,value:l.value,onChange:function(e){u(e),_()},showClearButton:!0,id:"booking-change-seats",list:X({preferredTime:f,availableTimesAndSeats:i,translate:t}),placeholder:t("Number of seats")}))),r.a.createElement("div",{className:"booking-change__subtitle",role:"heading","aria-level":"2"},t("Available offices")),r.a.createElement("div",{className:"booking-change__content",role:"list"},function(e){var t=e.items,a=e.itemsPerPage,n=e.page;return t.slice((n-1)*a,n*a)}({items:E,page:g,itemsPerPage:6}).map((function(e){var a=e.id,n=e.seat,i=e.time;return r.a.createElement(at,{key:a,seat:n,time:i,translate:t,onBook:o})}))),k&&r.a.createElement("div",{className:"booking-change__paginator"},r.a.createElement(rt,{current:g,translate:t,label:t("Navigate into available offices list"),total:O,onPageChange:h})))}),it=function(e,t){var a,o=e.booking,i=e.setBookingStatus,c=e.setBookingData,s=e.history,l=e.company,u=t.t,m=Object(x.f)(),d=m.bookingId,f=m.companyHash,v=Object(n.useState)(!1),b=Object(H.a)(v,2),p=b[0],g=b[1],h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.seat,a=void 0===t?null:t,n=e.time,r=void 0===n?null:n;Re({seat:a,time:r,bookingId:d}).then((function(e){return i(Ue[e.status]),g(!1),e.json()})).then((function(e){e&&e.booking&&c(e.booking)}))};Object(n.useEffect)((function(){h()}),[d]);var _=r.a.createElement(tt,{translate:u,data:o,processing:p,onCancel:function(){window.confirm(u("Are you sure that you want to cancel your booking"))&&(g(!0),qe({bookingId:d}).then((function(){h()})))},onNewBooking:function(){return s.push("/".concat(f))}});return(a={},Object(V.a)(a,Ve,(function(){return _})),Object(V.a)(a,Ke,(function(){return _})),Object(V.a)(a,He,(function(){return r.a.createElement(ot,{translate:u,event:l.event,onBook:h})})),Object(V.a)(a,Le,(function(){return u("Please wait ...")})),Object(V.a)(a,Fe,(function(){return r.a.createElement(be,{image:ge.a,imageAlt:u("Something wrong happened"),title:u("Unable to find your booking")})})),a)[o.status]()};it.contextTypes={t:A.func,history:A.shape({push:A.func.isRequired})};var ct=Object(c.connect)((function(e){return{booking:e.booking,company:e.company}}),(function(e){return Object(b.b)({setBookingStatus:ze,setBookingData:Je},e)}))(Object(x.g)(it)),st=function(){return r.a.createElement(x.c,null,r.a.createElement(x.a,{path:"/:companyHash",exact:!0},r.a.createElement(Pe,null)),r.a.createElement(x.a,{path:"/:companyHash/booking/:bookingId"},r.a.createElement(ct,null)),r.a.createElement(x.a,{path:"*",exact:!0},"Sorry this page doesn't exists"))},lt=a(52),ut=document.body,mt=function(){ut.classList.remove("dark-mode"),ut.classList.remove("light-mode"),ut.classList.add("".concat(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light","-mode"))},dt=function(e){Object(c.useSelector)((function(e){return e.settings})).darkMode;return mt(),ut.classList.add(re()?"mobile-tablet":"desktop"),function(){var e=function(e){return e.toLowerCase().split(" ").join("-")},t=Object(lt.a)(),a=t.name,n=t.version,r=t.os;ut.classList.add(e(a)),ut.classList.add(e("".concat(a,"-").concat(n))),ut.classList.add(e(r))}(),e.children},ft=function(e){return fetch(function(e){return"".concat(Y,"/company/").concat(e)}(e))},vt=(a(97),a(53)),bt=a.n(vt),pt=function(e){var t,a=e.translate,n=e.event,o=e.children,i=R.a.unix(n.eventStartTime).format("Do MMMM, dddd"),c=R.a.unix(n.eventStartTime).format("Do MMM | ddd");return r.a.createElement("div",{className:"companyCard"},r.a.createElement("div",{className:"companyCard__header",style:{backgroundImage:"url(".concat(bt.a,")")}},r.a.createElement("div",{className:"companyCard__header--row"},r.a.createElement("div",{className:"companyCard__header--title",title:a("Event name")},n.name),r.a.createElement("div",{className:"companyCard__header--date","aria-label":i},c)),r.a.createElement("div",{className:"companyCard__header--row"},r.a.createElement("address",{className:"companyCard__header--address"},n.address),r.a.createElement("div",{className:"companyCard__header--directions"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:(t=n.address,"".concat("https://www.google.com/maps/search/").concat(t))},a("Get directions"))))),r.a.createElement("div",{className:"companyCard__content"},o))},gt=function(e){var t=e.state,a=e.children,n=e.translate,o=e.data,i=function(){return r.a.createElement(pt,{translate:n,event:o.event},a)};return{loading:function(){return r.a.createElement(r.a.Fragment,null,n("Please wait..."))},loaded:i,failed:function(){return r.a.createElement(r.a.Fragment,null,n("Invalid page"))},expired:i}[t]()},ht=function(e,t){var a=e.children,o=e.company,i=e.setCompanyData,c=t.t,s=Object(n.useState)(Ae),l=Object(H.a)(s,2),u=l[0],m=l[1],d=Object(x.f)().companyHash,f=function(){var e;o.status!==Ie&&m(Ae);var t=(e={},Object(V.a)(e,Be.a.NOT_FOUND,Se),Object(V.a)(e,Be.a.LOCKED,xe),Object(V.a)(e,Be.a.OK,Ce),e),a=t[u];ft(d).then((function(e){var n=t[e.status]||Se;return n!==a&&m(n),e.json()})).then(i)};return r.a.useEffect((function(){f()}),[d]),o.status===Ie&&f(),r.a.createElement(gt,{state:u,translate:c,data:o},a)};ht.contextTypes={t:A.func,history:A.shape({push:A.func.isRequired})};var _t=Object(c.connect)((function(e){return{company:e.company}}),(function(e){return Object(b.b)({setCompanyData:Ne},e)}))(Object(x.g)(ht)),Et=function(e,t){var a=t.t;return r.a.createElement(dt,null,r.a.createElement("div",{className:"app",style:{backgroundImage:"url(".concat(B.a,")")}},r.a.createElement("div",{className:"app__logo"},r.a.createElement("img",{src:M.a,alt:a("Booksys logo")})),r.a.createElement(x.a,{path:"/:companyHash"},r.a.createElement(_t,null,r.a.createElement(st,null)))))};Et.contextTypes={t:A.func};var yt=Et;a(98),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ot=function(e){var t=[!1,p.a].filter(Boolean),a=[b.a.apply(void 0,Object(v.a)(t)),E,!1].filter(Boolean),n=b.d.apply(void 0,Object(v.a)(a)),r=Object(b.e)(C,e,n);return{store:r,persistor:Object(g.b)(r)}}(),kt=Ot.store,Tt=Ot.persistor;i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c.Provider,{store:kt},r.a.createElement(f.a,{loading:null,persistor:Tt},r.a.createElement(u.a,{translations:{en:{"Hello world":"Testing translations II - The revenge"},options:{plural_rule:"n != 1",plural_number:"2"}},initialLang:d()(),fallbackLang:"en"},r.a.createElement(s.a,null,r.a.createElement(yt,null)))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[56,1,2]]]);
//# sourceMappingURL=main.3d48d2f3.chunk.js.map